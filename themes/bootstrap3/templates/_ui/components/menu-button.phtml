<?php
  $wrapperTag = $this->wrapperTag ?? 'div';
  $wrapperClass = $this->wrapperClass ?? false;

  $toggleTag = $this->toggleTag ?? 'button';
  $toggleAttrs = $this->toggleAttrs ?? [];

  $href = $this->href ?? $toggleTag == 'button' ? null : '#';
?>

<<?=$wrapperTag ?>
  class="<?=$wrapperClass ? $this->escapeHtmlAttr($wrapperClass) . ' ' : '' ?>dropdown"
>
  <<?=$toggleTag ?>
    class="dropdown-toggle"
    data-toggle="dropdown"
    <?php if ($href): ?>href="<?=$this->escapeHtmlAttr($href) ?>"<?php endif ?>
  >
    <?=$this->transEsc($this->toggleLabel) ?>
    <?=$this->icon('dropdown-caret') ?>
  </<?=$toggleTag ?>>

  <ul class="dropdown-menu">
    <?php foreach ($this->menuItems as $current): ?>
      <li class="dropdown__item <?php if ($current['selected']): ?> active<?php endif ?>">
        <a class="dropdown__link" href="<?=$this->escapeHtmlAttr($current['url']) ?>" rel="nofollow">
          <?=$this->transEsc($current['label']) ?>
        </a>
      </li>
    <?php endforeach; ?>
  </ul>
</<?=$wrapperTag ?>>
